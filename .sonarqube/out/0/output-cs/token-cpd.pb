†
tC:\Users\Lucas - Developer C#\Documents\workerspace-dotnet\Alura.LeilaoOnline\Alura.LeilaoOnline.Core\Interessada.cs
	namespace 	
Alura
 
. 
LeilaoOnline 
. 
Core !
{ 
public 

class 
Interessada 
{ 
public 
string 
Nome 
{ 
get  
;  !
}" #
public 
Leilao 
Leilao 
{ 
get "
;" #
}$ %
public 
Interessada 
( 
string !
nome" &
,& '
Leilao( .
leilao/ 5
)5 6
{		 	
Nome

 
=

 
nome

 
;

 
Leilao 
= 
leilao 
; 
} 	
} 
} †
nC:\Users\Lucas - Developer C#\Documents\workerspace-dotnet\Alura.LeilaoOnline\Alura.LeilaoOnline.Core\Lance.cs
	namespace 	
Alura
 
. 
LeilaoOnline 
. 
Core !
{ 
public 

class 
Lance 
{ 
public 
Interessada 
Cliente "
{# $
get% (
;( )
}* +
public 
double 
Valor 
{ 
get !
;! "
}# $
public 
Lance 
( 
Interessada  
cliente! (
,( )
double* 0
valor1 6
)6 7
{		 	
Cliente

 
=

 
cliente

 
;

 
Valor 
= 
valor 
; 
} 	
} 
} ê
oC:\Users\Lucas - Developer C#\Documents\workerspace-dotnet\Alura.LeilaoOnline\Alura.LeilaoOnline.Core\Leilao.cs
	namespace 	
Alura
 
. 
LeilaoOnline 
. 
Core !
{ 
public 

enum 
EstadoLeilao 
{ 
LeilaoAntesDoPregao		 
,		 
LeilaoEmAndamento

 
,

 
LeilaoFinalizado 
} 
public 

class 
Leilao 
{ 
private 
IList 
< 
Lance 
> 
_lances $
;$ %
private 
Interessada 
_ultimoCliente *
;* +
public 
IEnumerable 
< 
Lance  
>  !
Lances" (
=>) +
_lances, 3
;3 4
public 
string 
Peca 
{ 
get  
;  !
}" #
public 
Lance 
Ganhador 
{ 
get "
;" #
private$ +
set, /
;/ 0
}1 2
public 
EstadoLeilao 
Estado "
{# $
get% (
;( )
private* 1
set2 5
;5 6
}7 8
public 
Leilao 
( 
string 
peca !
)! "
{ 	
Peca 
= 
peca 
; 
_lances 
= 
new 
List 
< 
Lance $
>$ %
(% &
)& '
;' (
Estado 
= 
EstadoLeilao !
.! "
LeilaoAntesDoPregao" 5
;5 6
} 	
public 
void 
RecebeLance 
(  
Interessada  +
cliente, 3
,3 4
double5 ;
valor< A
)A B
{ 	
if 
( 
Estado 
== 
EstadoLeilao &
.& '
LeilaoEmAndamento' 8
)8 9
{   
if!! 
(!! 
cliente!! 
!=!! 
_ultimoCliente!! ,
)!!, -
{"" 
_lances## 
.## 
Add## 
(##  
new##  #
Lance##$ )
(##) *
cliente##* 1
,##1 2
valor##3 8
)##8 9
)##9 :
;##: ;
_ultimoCliente$$ "
=$$# $
cliente$$% ,
;$$, -
}%% 
}'' 
})) 	
public++ 
void++ 
IniciaPregao++  
(++  !
)++! "
{,, 	
Estado-- 
=-- 
EstadoLeilao-- !
.--! "
LeilaoEmAndamento--" 3
;--3 4
}.. 	
public00 
void00 
TerminaPregao00 !
(00! "
)00" #
{11 	
Ganhador22 
=22 
Lances22 
.33 
DefaultIfEmpty33 
(33  
new33  #
Lance33$ )
(33) *
null33* .
,33. /
$num330 1
)331 2
)332 3
.44 
OrderBy44 
(44 
l44 
=>44 
l44 
.44  
Valor44  %
)44% &
.55 
LastOrDefault55 
(55 
)55  
;55  !
Estado66 
=66 
EstadoLeilao66 !
.66! "
LeilaoFinalizado66" 2
;662 3
}77 	
}88 
}99 